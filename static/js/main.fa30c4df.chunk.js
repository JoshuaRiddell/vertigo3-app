(window["webpackJsonpvertigo3-app"]=window["webpackJsonpvertigo3-app"]||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/zostera-muelleri.bd76d9be.png"},101:function(e,t,a){e.exports=a.p+"static/media/halodule-uninervis.d872bc01.png"},102:function(e,t,a){e.exports=a.p+"static/media/halophila-spinulosa.ee043c5c.png"},103:function(e,t,a){e.exports=a.p+"static/media/syringodium-isoetifolium.2f3609ff.png"},104:function(e,t,a){e.exports=a.p+"static/media/halophila-decipiens.2643df70.png"},105:function(e,t,a){e.exports=a.p+"static/media/pentaceraster-mammillatus.1bec4054.png"},109:function(e,t,a){e.exports=a.p+"static/media/glider-icon.cb9daba2.svg"},110:function(e,t,a){e.exports=a.p+"static/media/sonar-boat-2.34cc8ad7.png"},111:function(e,t,a){e.exports=a.p+"static/media/for-sure.13620510.mp3"},112:function(e,t,a){e.exports=a.p+"static/media/Warning-1.4bde09fb.ogg"},116:function(e,t,a){e.exports=a(202)},121:function(e,t,a){},140:function(e,t,a){e.exports=a.p+"static/media/underwater-test-vid.5a07032b.mp4"},170:function(e,t){},18:function(e,t,a){e.exports=a.p+"static/media/Data_sent.58d1b27a.ogg"},195:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),i=a.n(o),s=(a(121),a(1)),l=a(2),c=a(4),p=a(3),m=a(5),u=a(51),d=a(23),f=a(10),y=a(19),h=a(97),E=a(7),g={SET_START_UP_MODE:"SET_START_UP_MODE",SET_PREVIEW_MODE:"SET_PREVIEW_MODE",SET_RECORDING_MODE:"SET_RECORDING_MODE",SET_SESSION_PAUSE:"SET_SESSION_PAUSE",TRAINING_SET_TYPES:{TOGGLE_TRAINING_SET:"TOGGLE_TRAINING_SET",INITIALIZE_TRAINING_SET:"INITIALIZE_TRAINING_SET"},VIDEO_PLAYER_TYPES:{SET_VIDEO_PLAYER_STATE:"SET_VIDEO_PLAYER_STATE"},SONAR_TYPES:{SET_SONAR_STATE:"SET_SONAR_STATE"},MAP_TYPES:{SET_MAP_STATE:"SET_MAP_STATE",SET_MAP_VIEW_POSITION:"SET_MAP_VIEW_POSITION",SET_MAP_ZOOM_LEVEL:"SET_MAP_ZOOM_LEVEL"},CONTROL_MODE_TYPES:{CHANGE_CONTROL_MODE:"CHANGE_CONTROL_MODE"},SYSTEM_STATUS_TYPES:{SYSTEM_STATUS_MODAL_TOGGLE:"SYSTEM_STATUS_MODAL_TOGGLE",SYSTEM_STATUS_CHANGE:"SYSTEM_STATUS_CHANGE"}};function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S={activeMode:"PREVIEW",startupMode:!1,previewMode:!0,recordingMode:!1,sessionPause:!1},O=a(98),x=a.n(O),P=a(99),w=a.n(P),N=a(100),j=a.n(N),_=a(101),M=a.n(_),C=a(102),T=a.n(C),k=a(103),D=a.n(k),A=a(104),I=a.n(A),R=a(105),G=a.n(R),V=[{title:"Halophila ovalis",img:x.a,labelColorClass:"bg-red-l",shortName:"ho"},{title:"Cymodocea serrulata",img:w.a,labelColorClass:"bg-green",shortName:"cs"},{title:"Zostera muelleri",img:j.a,labelColorClass:"bg-yellow",shortName:"zm"},{title:"Halodule uninervis",img:M.a,labelColorClass:"bg-blue-d",shortName:"hu"},{title:"Halophila spinulosa",img:T.a,labelColorClass:"bg-orange",shortName:"hs"},{title:"Syringodium isoetifolium",img:D.a,labelColorClass:"bg-violet",shortName:"si"},{title:"Halophila decipiens",img:I.a,labelColorClass:"bg-blue-l",shortName:"hd"},{title:"",img:"",labelColorClass:"",shortName:""},{title:"",img:"",labelColorClass:"",shortName:""},{title:"Pentaceraster mammillatus",img:G.a,labelColorClass:"bg-pink",shortName:"pm"},{title:"",img:"",labelColorClass:"",shortName:""}];function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z=g.TRAINING_SET_TYPES,B={showTrainingSet:!1,dataSet:V,annotation:{},point:{}};function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=g.VIDEO_PLAYER_TYPES,Y={};function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=g.SONAR_TYPES,X={};function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $=g.MAP_TYPES,ee={path:[],pathIndex:0,viewPosition:[-23.908223,152.386752],zoomLevel:14};function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ne=g.CONTROL_MODE_TYPES,re={activeMode:"surFace"};function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var se=g.SYSTEM_STATUS_TYPES,le={showModal:!0},ce=Object(y.combineReducers)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g[t.type]:return b({},e,{},t.payload);default:return e}},trainingSet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.TOGGLE_TRAINING_SET:return U({},e,{showTrainingSet:t.payload,annotation:{},point:{}});case z.INITIALIZE_TRAINING_SET:return U({},e,{},t.payload);default:return e}},videoPlayerState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W[t.type]:return H({},e,{},t.payload);default:return e}},sonarState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J[t.type]:return K({},e,{},t.payload);default:return e}},mapState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $[t.type]:return Q({},e,{},t.payload);default:return e}},controlModes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.CHANGE_CONTROL_MODE:return ae({},e,{activeMode:t.payload});default:return e}},systemStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se[t.type]:return ie({},e,{},t.payload);default:return e}}}),pe=[h.a],me=Object(y.createStore)(ce,{},Object(y.compose)(y.applyMiddleware.apply(void 0,pe))),ue=a(106),de=a(29),fe=a(53),ye=(a(139),a(38)),he=a.n(ye),Ee=(n.Component,a(107)),ge=a.n(Ee),ve=a(18),be=a.n(ve);function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).touchStart=function(t){var a=e.state.gesturesTimeout,n=t.center,r=n.x,o=n.y;a&&clearTimeout(a),e.setState({annotationState:{dragging:!0,start:{x:r,y:o},current:{x:r,y:o}},zoomState:Oe({},e.state.zoomState,{zooming:!1})})},e.touchMove=function(t){var a=t.center,n=a.x,r=a.y;e.state.annotationState.dragging?(e.setState({annotationState:Oe({},e.state.annotationState,{current:{x:n,y:r}})}),e.draw()):e.pinchZoom(t),e.state.annotationState.dragging||e.props.handleVideoPlayer.pause()},e.touchEnd=function(t){var a=e.state,n=a.annotationState,r=a.gesturesTimeout;n.dragging&&t.distance>10?(e.props.getSelectionValue(t.type,{topLeft:n.start,bottomRight:n.current}),e.setState({activateGestures:!1})):(r&&clearTimeout(r),e.setState({annotationState:{dragging:!1,start:{},current:{}},gesturesTimeout:setTimeout((function(){e.setState({activateGestures:!1}),e.zoomReset();var t=e.props.handleVideoPlayer.getState().player;e.props.handleVideoPlayer.seek(t.currentTime+3),e.props.handleVideoPlayer.play()}),3e3)})),e.draw()},e.activateGestures=function(t){var a=e.state,n=a.activateGestures,r=a.gesturesTimeout;if(n){r&&clearTimeout(r),e.zoomReset();var o=e.props.handleVideoPlayer.getState().player;e.props.handleVideoPlayer.seek(o.currentTime+1),e.props.handleVideoPlayer.play(),e.setState({activateGestures:!1,gesturesTimeout:""}),e.showRipple(t)}else e.props.handleVideoPlayer.pause(),e.setState({activateGestures:!0,gesturesTimeout:setTimeout((function(){var t=e.props.handleVideoPlayer.getState().player;e.props.handleVideoPlayer.seek(t.currentTime+3),e.props.handleVideoPlayer.play(),e.setState({activateGestures:!1})}),3e3)})},e.pinchZoom=function(t){var a=e.state,n=a.gesturesTimeout,r=a.zoomState,o=a.annotationState;n&&clearTimeout(n);var i=r.currentZoomPosition.x,s=r.currentZoomPosition.y,l=r.scale,c=r.lastScale,p=r.startZoomPosition.x,m=r.startZoomPosition.y,u=0,d=0,f=t.target;"pinch"===t.type&&(l=Math.max(.999,Math.min(c*t.scale,4))),"pinchstart"===t.type&&e.setState({annotationState:Oe({},o,{drag:!1})}),1!=l&&(i=p+t.deltaX,s=m+t.deltaY,i>(u=Math.ceil((l-1)*f.clientWidth/2))&&(i=u),i<-u&&(i=-u),s>(d=Math.ceil((l-1)*f.clientHeight/2))&&(s=d),s<-d&&(s=-d),"pinch"===t.type&&e.setState({zoomState:Oe({},e.state.zoomState,{scale:l,zooming:!0,currentZoomPosition:{x:i,y:s}})}),"panmove"===t.type&&e.setState({zoomState:Oe({},e.state.zoomState,{currentZoomPosition:{x:i,y:s}})}),"pinchend"===t.type&&(c=l,e.setState({zoomState:Oe({},e.state.zoomState,{lastScale:c,startZoomPosition:{x:i,y:s},currentZoomPosition:{x:i,y:s}})})),"panend"===t.type&&e.setState({zoomState:Oe({},e.state.zoomState,{startZoomPosition:e.state.zoomState.currentZoomPosition})}))},e.zoomReset=function(){var t=e.state.zoomResetTimeoutId;t&&clearTimeout(t),e.setState({zoomState:{zooming:!1,scale:1,lastScale:1,startZoomPosition:{x:0,y:0},currentZoomPosition:{x:0,y:0}}})},e.draw=function(){var t=e.state.annotationState,a=t.dragging,n=t.start,r=t.current,o=e.state.canvas,i=e.state.selectionArea.current.getBoundingClientRect(),s=i.left,l=i.top,c=o.current.getContext("2d");c.lineWidth=6,c.strokeStyle="#FF0000",c.fillStyle="#FF0000";var p=1;a&&(p=.8);var m=p*(r.x-n.x),u=p*(r.y-n.y),d=n.x-m-s,f=n.y-u-l,y=2*m,h=2*u;c.clearRect(0,0,o.current.width,o.current.height),c.strokeRect(d,f,y,h)},e.clearCanvas=function(t){var a=e.state,n=a.canvas;a.zoomState;e.setState({annotationState:{dragging:!1,start:{x:0,y:0},current:{x:0,y:0}}}),e.zoomReset(),n.current.getContext("2d").clearRect(0,0,n.current.width,n.current.height),setTimeout((function(){return e.draw()}),300)},e.showRipple=function(t){t.preventDefault();var a=t.center,n=e.state,r=n.selectionArea,o=n.bounce,i=r.current,s=i.offsetWidth,l=i.getBoundingClientRect(),c=a.x-l.x-s/2,p=a.y-l.y-s/2,m={top:p+"px",left:c+"px",height:s+"px",width:s+"px"},u=e.state.count+1;o&&clearTimeout(o),e.setState({spanStyles:Oe({},e.state.spanStyles,Object(E.a)({},1,m)),count:u,bounce:setTimeout((function(){return e.setState({spanStyles:{},count:0})}),500)}),new Audio(be.a).play(),e.props.getSelectionValue(t.type,{x:c,y:p})},e.renderRippleSpan=function(){var t=e.state.spanStyles,a=void 0===t?{}:t,n=Object.keys(a);return n&&n.length>0?n.map((function(e,t){return r.a.createElement("span",{key:"spanCount_"+t,className:"",style:Oe({},a[e])})})):null},e.state={name:"React",selectionArea:r.a.createRef(),canvas:r.a.createRef(),ripples:r.a.createRef(),spanStyles:{},count:0,annotationState:{dragging:!1,start:{},current:{}},zoomState:{zooming:!1,scale:1,lastScale:1,startZoomPosition:{x:0,y:0},currentZoomPosition:{x:0,y:0}},activateGestures:!1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.selectionArea,t=e.current,a=t.offsetWidth,n=t.offsetHeight,r=this.props.disableAnnotations;this.setState({offsetWidth:a,offsetHeight:n}),this.refs.ripples.onmousedown=null,this.refs.ripples.onmouseup=null,this.hammerTime=new ge.a(e.current,{}),this.hammerTime.get("pinch").set({enable:!0}),!r&&this.hammerTime.on("tap",this.activateGestures)}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.activateGestures;t.activateGestures!==a&&!0===a&&(this.hammerTime.on("press",this.touchStart),this.hammerTime.on("pinchstart pinch pinchend panmove panend",this.touchMove),this.hammerTime.on("panend pancancel pressup",this.touchEnd)),t.activateGestures!==a&&!1===a&&this.hammerTime.off("press pressup pan panend pancancel pinchstart pinch pinchend")}},{key:"render",value:function(){var e=this.state,t=e.annotationState.dragging,a=e.offsetWidth,n=e.offsetHeight,o=e.zoomState,i=o.zooming,s=o.currentZoomPosition,l=o.scale,c=e.activateGestures,p=this.props,m=p.children,u=void 0===m?null:m,d=p.classes,f=void 0===d?"":d;p.onClickHandler,p.disableAnnotations;return r.a.createElement("div",{ref:this.state.selectionArea,className:"ripple "+f,onContextMenu:function(e){return e.preventDefault(),!1}},r.a.createElement("div",{className:"zoomFrame",style:i?{transform:"translate3d(".concat(s.x,"px, ").concat(s.y,"px, 0) scale3d(").concat(l,", ").concat(l,", 1)")}:Object(E.a)({transform:"translate3d(".concat(s.x,"px, ").concat(s.y,"px, 0) scale3d(").concat(l,", ").concat(l,", 1)"),transition:"-webkit-transform 0.3s ease-in-out"},"transition","transform 0.3s ease-in-out")},u),r.a.createElement("canvas",{id:"canvas",className:"selection-area ".concat(c?"gesturesActive":""),ref:this.state.canvas,width:a,height:n,style:t?{outline:"10px solid #24ea00",outlineOffset:"-8px"}:{},onContextMenu:function(e){return e.preventDefault(),!1}}),r.a.createElement("div",{ref:"ripples",className:"rippleContainer",onContextMenu:function(e){return e.preventDefault(),!1}},this.renderRippleSpan()))}}]),t}(n.Component),Pe=(a(140),a(50)),we=a.n(Pe),Ne=g.TRAINING_SET_TYPES,je="http://52.147.7.148:5000",_e=function(e){return function(t){t({type:Ne.TOGGLE_TRAINING_SET,payload:e})}},Me=g.VIDEO_PLAYER_TYPES,Ce=function(e){function t(e,a){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(p.a)(t).call(this,e,a))).showVideoControls=function(){var e=n.state.timeOutId;e&&clearTimeout(e),n.setState({showControls:!0,timeOutId:setTimeout((function(){return n.setState({showControls:!1})}),5e3)})},n.getSelectionValue=function(e,t){console.log(e,t);var a=n.props.mapState,r=a.pathIndex,o=a.path,i=o[r]?o[r][0]:0,s=o[r]?o[r][1]:0;if("tap"===e){var l={annotation:{timestamp:Date.now(),latitude:i,longitude:s,class:null},point:t};n.props.sendTapAnnotationData(l)}else{var c={showTrainingSet:!0,annotation:{timestamp:Date.now(),latitude:i,longitude:s},point:t};n.props.initTrainigSetModal(c)}},n.state={source:"",activeAnnotations:!1},n.togglePlay=n.togglePlay.bind(Object(de.a)(n)),n.fullScreen=n.fullScreen.bind(Object(de.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.player&&(this.player.subscribeToStateChange(this.handleStateChange.bind(this)),this.player.play())}},{key:"handleStateChange",value:function(e){this.setState({player:e})}},{key:"togglePlay",value:function(){this.state.player.paused?this.player.play():this.player.pause()}},{key:"fullScreen",value:function(){this.player.toggleFullscreen()}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.videoPlayerState,r=a.trainingSet,o=a.videoUrl,i=r.showTrainingSet;if(e.trainingSet.showTrainingSet!==i&&!1===i){var s=this.player.getState().player;this.player.seek(s.currentTime+3),this.player.play(),this.refs.tapSelectionRef&&this.refs.tapSelectionRef.clearCanvas()}if(e.videoPlayerState!==n&&n&&Object.keys(n).length){var l=n.currentTime;this.player.seek(l)}e.videoUrl!==o&&this.player.play()}},{key:"componentWillUnmount",value:function(){var e=this.player.getState().player;this.props.setPlayerStateSnapshot(e),this.player=null}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"video-player-container"},r.a.createElement(xe,{ref:"tapSelectionRef",showVideoControls:this.showVideoControls,getSelectionValue:this.getSelectionValue,handleVideoPlayer:this.player,disableAnnotations:this.props.disableAnnotations},r.a.createElement(fe.Player,{fluid:!1,width:this.props.playerWidth,height:this.props.playerHeight,loop:!0,autoplay:!0,preload:"auto",src:this.props.videoUrl,ref:function(t){e.player=t}},r.a.createElement(fe.ControlBar,{autoHide:!1}))))}}]),t}(r.a.Component),Te=Object(f.b)((function(e){return{trainingSet:e.trainingSet,videoPlayerState:e.videoPlayerState,mapState:e.mapState}}),{toggleTrainigSetModal:_e,setPlayerStateSnapshot:function(e){return function(t){t({type:Me.SET_VIDEO_PLAYER_STATE,payload:e})}},sendTapAnnotationData:function(e){return function(t){fetch("".concat(je,"/annotation/videoPoint"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},initTrainigSetModal:function(e){return function(t){t({type:Ne.INITIALIZE_TRAINING_SET,payload:e})}}})(Ce),ke=a(37),De=a(54),Ae=a.n(De),Ie=a(108),Re=a(25),Ge=a.n(Re),Ve=[[-23.9071334,152.3874199],[-23.9071751,152.3873609],[-23.9072167,152.3873019],[-23.9072584,152.3872429],[-23.9073001,152.3871839],[-23.9073443,152.3871303],[-23.9073884,152.3870766],[-23.9074325,152.387023],[-23.9074767,152.3869693],[-23.9075061,152.3869237],[-23.9075355,152.3868781],[-23.9075649,152.3868325],[-23.9075943,152.3867869],[-23.9076311,152.386744],[-23.9076679,152.3867011],[-23.9077047,152.3866582],[-23.9077415,152.3866153],[-23.9077807,152.3865724],[-23.90782,152.3865295],[-23.9078592,152.3864865],[-23.9078984,152.3864436],[-23.9079426,152.3864034],[-23.9079867,152.3863632],[-23.9080308,152.3863229],[-23.908075,152.3862827],[-23.9081191,152.3862478],[-23.9081633,152.386213],[-23.9082074,152.3861781],[-23.9082515,152.3861432],[-23.9082932,152.3861244],[-23.9083348,152.3861057],[-23.9083765,152.3860869],[-23.9084182,152.3860681],[-23.9084575,152.3860467],[-23.9084967,152.3860252],[-23.908536,152.3860038],[-23.9085752,152.3859823],[-23.9086218,152.3859635],[-23.9086683,152.3859448],[-23.9087149,152.385926],[-23.9087615,152.3859072],[-23.908813,152.3858857],[-23.9088645,152.3858643],[-23.908916,152.3858428],[-23.9089675,152.3858213],[-23.9090215,152.3858133],[-23.9090754,152.3858053],[-23.9091294,152.3857972],[-23.9091833,152.3857892],[-23.9092323,152.3857758],[-23.9092814,152.3857624],[-23.9093304,152.3857489],[-23.9093794,152.3857355],[-23.9094309,152.3857248],[-23.9094824,152.3857141],[-23.9095339,152.3857033],[-23.9095854,152.3856926],[-23.9096344,152.3856846],[-23.9096835,152.3856765],[-23.9097326,152.3856685],[-23.9097816,152.3856604],[-23.9098306,152.385647],[-23.9098797,152.3856336],[-23.9099287,152.3856202],[-23.9099777,152.3856068],[-23.9100292,152.3855988],[-23.9100807,152.3855907],[-23.9101322,152.3855827],[-23.9101837,152.3855746],[-23.9102401,152.3855773],[-23.9102965,152.38558],[-23.9103529,152.3855826],[-23.9104093,152.3855853],[-23.9104608,152.385588],[-23.9105123,152.3855907],[-23.9105638,152.3855933],[-23.9106153,152.385596],[-23.9106668,152.3855987],[-23.9107182,152.3856014],[-23.9107697,152.3856041],[-23.9108212,152.3856068],[-23.9108751,152.3856122],[-23.9109291,152.3856175],[-23.910983,152.3856229],[-23.911037,152.3856282],[-23.9110909,152.3856309],[-23.9111449,152.3856336],[-23.9111989,152.3856363],[-23.9112528,152.385639],[-23.9113068,152.3856524],[-23.9113607,152.3856658],[-23.9114147,152.3856792],[-23.9114686,152.3856926],[-23.9115201,152.3856872],[-23.9115716,152.3856819],[-23.911623,152.3856765],[-23.9116745,152.3856711],[-23.9117284,152.3856738],[-23.9117824,152.3856765],[-23.9118364,152.3856792],[-23.9118903,152.3856819],[-23.9119394,152.3856926],[-23.9119884,152.3857034],[-23.9120374,152.3857141],[-23.9120865,152.3857248],[-23.9121355,152.3857436],[-23.9121845,152.3857624],[-23.9122336,152.3857811],[-23.9122826,152.3857999],[-23.912339,152.3858026],[-23.9123954,152.3858053],[-23.9124518,152.3858079],[-23.9125082,152.3858106],[-23.912567,152.3858213],[-23.9126259,152.3858321],[-23.9126848,152.3858428],[-23.9127436,152.3858535],[-23.9128,152.3858723],[-23.9128564,152.3858911],[-23.9129128,152.3859098],[-23.9129692,152.3859286],[-23.9130232,152.3859635],[-23.9130771,152.3859984],[-23.9131311,152.3860332],[-23.913185,152.3860681],[-23.9132365,152.386111],[-23.913288,152.386154],[-23.9133394,152.3861969],[-23.9133909,152.3862398],[-23.9134375,152.3862559],[-23.9134841,152.386272],[-23.9135307,152.386288],[-23.9135773,152.3863041],[-23.9136312,152.3862988],[-23.9136851,152.3862934],[-23.9137391,152.3862881],[-23.913793,152.3862827],[-23.9138519,152.3862693],[-23.9139107,152.3862559],[-23.9139696,152.3862424],[-23.9140284,152.386229],[-23.9140824,152.3862263],[-23.9141363,152.3862237],[-23.9141903,152.386221],[-23.9142442,152.3862183],[-23.9142957,152.3862264],[-23.9143472,152.3862344],[-23.9143987,152.3862425],[-23.9144502,152.3862505],[-23.9145017,152.3862586],[-23.9145531,152.3862666],[-23.9146046,152.3862747],[-23.9146561,152.3862827],[-23.9147002,152.3863042],[-23.9147444,152.3863256],[-23.9147886,152.3863471],[-23.9148327,152.3863685],[-23.9148793,152.3864168],[-23.9149258,152.3864651],[-23.9149724,152.3865133],[-23.915019,152.3865616],[-23.9150533,152.3866072],[-23.9150877,152.3866528],[-23.915122,152.3866984],[-23.9151563,152.386744],[-23.9151955,152.3867977],[-23.9152348,152.3868513],[-23.9152741,152.386905],[-23.9153133,152.3869586],[-23.9153452,152.3870096],[-23.9153771,152.3870605],[-23.9154089,152.3871115],[-23.9154408,152.3871624],[-23.9154751,152.3872214],[-23.9155094,152.3872805],[-23.9155438,152.3873395],[-23.9155781,152.3873985],[-23.91561,152.3874548],[-23.9156419,152.3875112],[-23.9156737,152.3875675],[-23.9157056,152.3876238],[-23.9157301,152.3876828],[-23.9157546,152.3877418],[-23.9157791,152.3878008],[-23.9158036,152.3878598],[-23.9158257,152.3879188],[-23.9158478,152.3879779],[-23.9158698,152.3880369],[-23.9158919,152.3880959],[-23.9159164,152.3881549],[-23.9159409,152.3882139],[-23.9159655,152.3882729],[-23.91599,152.3883319],[-23.916017,152.3883936],[-23.9160439,152.3884553],[-23.9160709,152.388517],[-23.9160979,152.3885787],[-23.9161224,152.3886431],[-23.9161469,152.3887074],[-23.9161714,152.3887718],[-23.9161959,152.3888361],[-23.9162204,152.3888951],[-23.9162449,152.3889542],[-23.9162695,152.3890132],[-23.916294,152.3890722],[-23.9163234,152.3891339],[-23.9163528,152.3891956],[-23.9163823,152.3892572],[-23.9164117,152.3893189],[-23.9164362,152.3893887],[-23.9164607,152.3894584],[-23.9164853,152.3895282],[-23.9165098,152.3895979],[-23.9165343,152.3896623],[-23.9165589,152.3897267],[-23.9165834,152.389791],[-23.9166079,152.3898554],[-23.9166349,152.3899171],[-23.9166619,152.3899788],[-23.9166888,152.3900404],[-23.9167158,152.3901021],[-23.916728,152.3901611],[-23.9167403,152.3902202],[-23.9167526,152.3902792],[-23.9167648,152.3903382],[-23.9167771,152.3903919],[-23.9167893,152.3904455],[-23.9168015,152.3904992],[-23.9168138,152.3905528],[-23.9168359,152.3906306],[-23.916858,152.3907084],[-23.91688,152.3907861],[-23.9169021,152.3908639],[-23.9169168,152.3909256],[-23.9169315,152.3909873],[-23.9169462,152.391049],[-23.9169609,152.3911107],[-23.9169781,152.3911778],[-23.9169952,152.3912448],[-23.9170124,152.3913119],[-23.9170296,152.3913789],[-23.9170492,152.3914513],[-23.9170688,152.3915238],[-23.9170885,152.3915962],[-23.9171081,152.3916686],[-23.9171228,152.3917276],[-23.9171375,152.3917866],[-23.9171522,152.3918456],[-23.9171669,152.3919046],[-23.9171791,152.3919636],[-23.9171914,152.3920226],[-23.9172037,152.3920816],[-23.9172159,152.3921406],[-23.9172282,152.392205],[-23.9172405,152.3922694],[-23.9172527,152.3923337],[-23.917265,152.3923981],[-23.9172748,152.3924625],[-23.9172846,152.3925269],[-23.9172944,152.3925912],[-23.9173042,152.3926556],[-23.9173189,152.392728],[-23.9173336,152.3928005],[-23.9173484,152.3928729],[-23.9173631,152.3929453],[-23.9173754,152.3930204],[-23.9173876,152.3930955],[-23.9173998,152.3931706],[-23.9174121,152.3932457],[-23.9174219,152.3933154],[-23.9174317,152.3933852],[-23.9174415,152.3934549],[-23.9174513,152.3935246],[-23.9174587,152.3935917],[-23.917466,152.3936588],[-23.9174734,152.3937258],[-23.9174807,152.3937929],[-23.9174881,152.3938653],[-23.9174955,152.3939377],[-23.9175028,152.3940101],[-23.9175102,152.3940825],[-23.91752,152.3941496],[-23.9175298,152.3942167],[-23.9175396,152.3942837],[-23.9175494,152.3943508],[-23.9175543,152.3944179],[-23.9175592,152.3944849],[-23.9175641,152.394552],[-23.917569,152.394619],[-23.9175764,152.3946807],[-23.9175837,152.3947424],[-23.917591,152.3948041],[-23.9175984,152.3948658]],Le=g.MAP_TYPES,Ue=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={timeoutId:""},a.mapMove=function(e){var t=a.map.getCenter();a.props.setViewPosition(Object.values(t))},a.mapZoom=function(e){var t=a.map.getZoom();a.props.setMapZoomLevel(t)},a.drawGpsData=Object(Ie.a)(Ae.a.mark((function e(){var t,n,r,o;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.mapState,n=t.pathIndex,r=Ve,o=n;case 4:if(!(o<r.length)){e.next=10;break}return e.next=7,a.pathPromise(o,r);case 7:o++,e.next=4;break;case 10:case"end":return e.stop()}}),e)}))),a.pathPromise=function(e,t){var n=a.props.mapState;return new Promise((function(r){a.setState({timeoutId:setTimeout((function(){a.props.setMapStateSnapshot({path:[].concat(Object(ke.a)(n.path),[t[e]]),pathIndex:e}),r(clearTimeout(a.state.timeoutId))}),2e3)})}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.mapState,t=e.zoomLevel,a=e.viewPosition;this.map=Ge.a.map("map",{zoomControl:!1}).setView(a,t),Ge.a.tileLayer("http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{maxZoom:20}).addTo(this.map),new(Ge.a.Polyline.extend({options:{speed:"",bearing:""}}))(Ve,{speed:"143",bearing:"38",color:"#fee60f",dashArray:10,dashOffset:50}).addTo(this.map),this.layer=Ge.a.layerGroup().addTo(this.map),this.drawGpsData(),this.updatePath(),this.map.on("moveend",this.mapMove),this.map.on("zoomend",this.mapZoom)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.mapState.path;e.mapState&&e.mapState.path.length!==a.length&&this.updatePath()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timeoutId)}},{key:"updateMarkers",value:function(e){var t=this;this.layer.clearLayers(),e.forEach((function(e){Ge.a.marker(e.latLng,{title:e.title}).addTo(t.layer)}))}},{key:"updatePath",value:function(){var e=this.props.mapState;this.layer.clearLayers(),new(Ge.a.Polyline.extend({options:{speed:"",bearing:""}}))(e.path,{speed:"143",bearing:"38",color:"#ff0000"}).addTo(this.map)}},{key:"render",value:function(){this.props.expandMap;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"map",style:{width:"100%",height:this.props.mapHeight+"px"}}))}}]),t}(r.a.Component),ze=Object(f.b)((function(e){return{mapState:e.mapState}}),{setMapStateSnapshot:function(e){return function(t){t({type:Le.SET_MAP_STATE,payload:e})}},setMapZoomLevel:function(e){return function(t){t({type:Le.SET_MAP_ZOOM_LEVEL,payload:{zoomLevel:e}})}},setViewPosition:function(e){return function(t){t({type:Le.SET_MAP_VIEW_POSITION,payload:{viewPosition:e}})}}})(Ue),Be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={markersData:[{latLng:{lat:-10.625259,lng:142.530746},title:1}]},a.addMarker=function(){var e=a.state.markersData,t=e[e.length-1];a.setState({markersData:[].concat(Object(ke.a)(e),[{title:+t.title+1,latLng:{lat:t.latLng.lat+1e-4,lng:t.latLng.lng+1e-4}}])})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.markersData;return r.a.createElement("div",null,r.a.createElement(ze,{markersData:e,mapHeight:this.props.mapHeight,expandMap:this.props.expandMap}))}}]),t}(r.a.Component),Fe=a(36),He=g.SONAR_TYPES;function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ze=g.SYSTEM_STATUS_TYPES,Ke=function(e){return function(t){t({type:Ze.SYSTEM_STATUS_MODAL_TOGGLE,payload:{showModal:e}})}},Je=function(e){return function(t){t({type:Ze.SYSTEM_STATUS_CHANGE,payload:Ye({},e)})}},Xe=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.coordinates,a=e.onMouseDown,n=(e.mode,t.x),o=t.y,i=t.labelVal||0,s="",l="6.04 0 6.04 15 15.82 15 7.42 19.73 5.35 20.78 3.54 18.96 0 22.5 3.54 26.04 7.07 22.5 5.38 20.81 7.51 20.24 27.77 15 48.04 15 48.04 0 6.04 0",c={current:"left",points:l};return i>0&&(s="R ".concat(i.toFixed(1)," m"),c={current:"right",points:"41.93 0 41.93 15 32.17 15 40.55 19.73 42.62 20.78 44.43 18.96 47.96 22.5 44.43 26.04 40.9 22.5 42.59 20.81 40.46 20.24 20.24 15 0 15 0 0 41.93 0"}),i<0&&(s="L ".concat(Math.abs(i).toFixed(1)," m"),c={current:"left",points:l}),0===i&&(s="".concat(i.toFixed(1)," m"),c={current:"left",points:l}),r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{style:{cursor:"-webkit-grab"},transform:"translate(".concat("right"===c.current?n-82:n," ").concat(o,")"),onMouseDown:a,onTouchStart:a},r.a.createElement("polygon",{fill:"rgb(244, 0, 0)",points:c.points,style:{transform:"scale(2)"}}),r.a.createElement("text",{transform:"translate(".concat("right"===c.current?2:15," 20.25)"),style:Object(E.a)({pointerEvents:"none",userSelect:"none",fontSize:"22px",fontWeight:"600"},"userSelect","none")},s)))}}]),t}(n.PureComponent),qe=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.coordinates,a=e.onMouseDown,n=(e.mode,t.x),o=t.y,i=t.labelVal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{style:{cursor:"-webkit-grab"},transform:"translate(".concat(n-102," ").concat(o-15,")"),onMouseDown:a,onTouchStart:a},r.a.createElement("path",{fill:"rgb(244, 0, 0)",d:"M46.93,0V14.91H35.72l10.73,5.41a4.64,4.64,0,1,1-.07,1.14L22.06,14.91H0V0Z",style:{transform:"scale(2)"}}),r.a.createElement("text",{transform:"translate(12 20.25)",style:Object(E.a)({pointerEvents:"none",userSelect:"none",fontSize:"22px",fontWeight:"600"},"userSelect","none")},"".concat(i||(.1884*Math.round(100*o)/100).toFixed(1)," m"))))}}]),t}(n.PureComponent),Qe=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.coordinates;return r.a.createElement("ellipse",{transform:"translate(0 25.25)",cx:e.x,cy:e.y,rx:10,ry:10,fill:"rgb(244, 0, 0)"})}}]),t}(n.PureComponent),$e=(n.PureComponent,a(109)),et=a.n($e),tt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.coordinates,a=e.onMouseDown;return r.a.createElement("image",{xlinkHref:et.a,height:"80",width:"80",x:t.x-10,y:t.y-50,onMouseDown:a,onTouchStart:a,style:{cursor:"-webkit-grab"}})}}]),t}(n.PureComponent),at=a(110),nt=a.n(at),rt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props;e.coordinates,e.onMouseDown;return r.a.createElement("image",{xlinkHref:nt.a,height:"150",width:"150",x:-18,y:-54})}}]),t}(n.PureComponent),ot=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.instructions;return r.a.createElement("path",{d:e,fill:"none",stroke:"rgb(255, 0, 0)",strokeWidth:5})}}]),t}(n.PureComponent),it=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.from,a=e.to;return r.a.createElement("line",{x1:t.x,y1:t.y+20,x2:a.x,y2:a.y+20,stroke:"rgb(255, 0, 0)",strokeWidth:5})}}]),t}(n.PureComponent),st=a(22),lt=a.n(st);function ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ct(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ct(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var mt=lt()("".concat("http://52.147.7.148:5000","/control/parameters")).connect(),ut=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).updateCoordinatesByMode=function(e){"surFace"===e&&a.setState({vSliderPosition:{startPoint:{x:526,y:15},endPoint:{x:526,y:133.46,labelVal:10.4}}}),"seaBed"===e&&a.setState({vSliderPosition:{startPoint:{x:526,y:46.5,labelVal:16.1},endPoint:{x:526,y:234.5}}}),"manual"===e&&a.setState({vSliderPosition:{startPoint:{x:526,y:170.5},endPoint:{x:245,y:82.7}}})},a.state={boatToGliderPosition:{startPoint:{x:98,y:20},controlPoint:{x:350,y:30},endPoint:{x:400,y:186.5}},draggingPointKeys:null,vSliderPosition:{startPoint:{x:526,y:15},endPoint:{x:526,y:133.46,labelVal:10.4}},hSliderPosition:{startPoint:{x:262,y:390},endPoint:{x:262,y:390}}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.controlModes.activeMode;this.updateCoordinatesByMode(t),mt.on("connect",(function(){return e.props.systemStatusChange({sonarControls:!0})})),mt.on("disconnect",(function(){return e.props.systemStatusChange({sonarControls:!1})})),mt.connected||this.props.systemStatusChange({sonarControls:!1})}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.controlModes.activeMode,r=a.sonarState;n!==e.controlModes.activeMode&&this.updateCoordinatesByMode(n),e.sonarState!==r&&r&&Object.keys(r).length&&this.setState(pt({},r))}},{key:"componentWillUnmount",value:function(){this.props.setSonarStateSnapshot(this.state),mt.removeAllListeners()}},{key:"handleMouseDown",value:function(e,t){this.setState({draggingPointKeys:t})}},{key:"handleMouseUp",value:function(){this.setState({draggingPointKeys:null})}},{key:"handleMouseMove",value:function(e,t){e.stopPropagation();var a=0,n=0;"mouseMove"===t&&(a=e.clientX,n=e.clientY),"touchMove"===t&&(a=e.touches[0].clientX,n=e.touches[0].clientY);var r=this.props,o=r.viewBoxWidth,i=r.viewBoxHeight,s=r.controlModes.activeMode,l=this.state.draggingPointKeys;if(l){var c=this.node.getBoundingClientRect(),p=a-c.left,m=n-c.top,u=p*o/c.width,d=m*i/c.height,f=l.split("."),y=Object(Fe.a)(f,2),h=y[0],g=y[1];if("boatToGliderPosition"===h&&this.setState(Object(E.a)({},h,pt({},this.state[h],Object(E.a)({},g,{x:u,y:d})))),"vSliderPosition"===h){if("seaBed"===s&&d>13.5&&d<234.5){var v=(Math.abs(.083*Math.round(100*(d-240.5)))/100).toFixed(1);mt.emit("json",[{name:"seabed_height",value:v,unit:"m"}]),this.setState(Object(E.a)({},h,pt({},this.state[h],Object(E.a)({},g,pt({},this.state[h][g],{y:d,labelVal:v})))))}if("surFace"===s&&d>13.5&&d<369.5){var b=(.083*Math.round(100*(d-7.3))/100).toFixed(1);mt.emit("json",[{name:"surface_depth",value:b,unit:"m"}]),this.setState(Object(E.a)({},h,pt({},this.state[h],Object(E.a)({},g,pt({},this.state[h][g],{y:d,labelVal:b})))))}}if("hSliderPosition"===h&&u>0&&u<525){var S=Math.round(u-262.5)*o*.0071/100;mt.emit("json",[{name:"track",value:S.toFixed(1),unit:"m"}]),this.setState(Object(E.a)({},h,pt({},this.state[h],Object(E.a)({},g,pt({},this.state[h][g],{x:u,labelVal:S})))))}return!1}}},{key:"render",value:function(){var e=this,t=this.props,a=t.viewBoxWidth,n=t.viewBoxHeight,o=t.controlModes.activeMode,i=this.state,s=i.boatToGliderPosition,l=i.vSliderPosition,c=i.hSliderPosition,p=i.draggingPointKeys,m="\n      M ".concat(s.startPoint.x,",").concat(s.startPoint.y,"\n      Q ").concat(s.controlPoint.x,",").concat(s.controlPoint.y,"\n        ").concat(s.endPoint.x,",").concat(s.endPoint.y,"\n    ");return r.a.createElement("svg",{ref:function(t){return e.node=t},viewBox:"0 0 ".concat(a," ").concat(n),onMouseMove:function(t){return p&&e.handleMouseMove(t,"mouseMove")},onTouchMove:function(t){return p&&e.handleMouseMove(t,"touchMove")},onMouseUp:function(){return p&&e.handleMouseUp()},onTouchEnd:function(){return p&&e.handleMouseUp()},onMouseLeave:function(){return p&&e.handleMouseUp()},onTouchCancel:function(){return p&&e.handleMouseUp()},style:{overflow:"visible"}},r.a.createElement("rect",{width:a,height:"40",fill:"rgb(33, 185, 245)",className:"sky"}),r.a.createElement("g",{className:"boat-glider-bezier"},r.a.createElement(ot,{instructions:m}),r.a.createElement(rt,{coordinates:s.startPoint}),r.a.createElement(tt,{coordinates:s.endPoint})),"manual"!==o&&r.a.createElement("g",{className:"verticle-slider"},"seaBed"===o?r.a.createElement(qe,{coordinates:l.startPoint,mode:o,onMouseDown:function(t){return e.handleMouseDown(t,"vSliderPosition.startPoint")}}):r.a.createElement(Qe,{coordinates:l.startPoint}),r.a.createElement(it,{from:l.startPoint,to:l.endPoint}),"surFace"===o?r.a.createElement(qe,{mode:o,coordinates:l.endPoint,onMouseDown:function(t){return e.handleMouseDown(t,"vSliderPosition.endPoint")}}):r.a.createElement(Qe,{coordinates:l.endPoint}),r.a.createElement("g",{className:"horizontal-slider"},r.a.createElement(Xe,{coordinates:c.startPoint,mode:"manual",onMouseDown:function(t){return"manual"!==o&&e.handleMouseDown(t,"hSliderPosition.startPoint")}}))),"manual"===o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe,{coordinates:l.startPoint}),r.a.createElement("rect",{width:"10",height:"10",fill:"red",transform:"translate(".concat(c.startPoint.x," 435) rotate(-45)")})),r.a.createElement("rect",{width:"15",height:"15",transform:"translate(259 435) rotate(-45)",strokeWidth:"2px",stroke:"rgb(244, 0, 0)",fill:"rgb(0, 0, 0, 0)"}))}}]),t}(r.a.PureComponent),dt=Object(f.b)((function(e){return{sonarState:e.sonarState,controlModes:e.controlModes}}),{setSonarStateSnapshot:function(e){return function(t){t({type:He.SET_SONAR_STATE,payload:e})}},systemStatusChange:Je})(ut),ft=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.expandSonar;return r.a.createElement("div",{className:"sonar-container",style:e?{backgroundPositionY:"116px"}:{}},r.a.createElement("div",{className:"sonar-controller-wrapper",style:e?{top:115}:{}},r.a.createElement("span",{className:"sonar-icon-wrap empty-icon-wrapper"},r.a.createElement("img",{src:"images/zoming-icon.svg",className:"sonar-icon empty-icon",style:e?{width:80,height:80}:{}})),r.a.createElement("span",{className:"sonar-icon-wrap loop-icon-wrapper",style:e?{marginRight:50}:{marginRight:95}},r.a.createElement("img",{src:"images/loop-icon.svg",className:"sonar-icon loop-icon",style:e?{width:80,height:80}:{}}))),r.a.createElement(dt,{className:"bezierCurves",viewBoxWidth:538,viewBoxHeight:450}))}}]),t}(r.a.Component),yt=a(111),ht=a.n(yt),Et=a(112),gt=a.n(Et);function vt(e){var t=e.showBar,a=e.msg,n=void 0===a?"":a,o=(e.duration,e.closeNotification,e.mode),i=new Audio("STOP_SESSION"===o?gt.a:ht.a);r.a.useEffect((function(){t&&i.play(),o&&i.play()}),[o,t]);var s="";return"PAUSE_SESSION"!==o&&"STOP_SESSION"!==o||(s="flash-infinite"),"RECORD_SESSION"===o&&(s="flash-3"),r.a.createElement("div",{className:"notification ".concat(s)},r.a.createElement("span",{id:"message-id",className:"notification message"},n))}function bt(e){var t=e.active,a=e.handler;return r.a.createElement("span",{className:"video-icon-wrapper pause-icon-wrapper",onClick:a},r.a.createElement("svg",{id:"Group_169","data-name":"Group 169",width:"80.518",height:"80.517",viewBox:"0 0 80.518 80.517"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"linear-gradient",y1:"0.5",x2:"1",y2:"0.5",gradientUnits:"objectBoundingBox"},r.a.createElement("stop",{offset:"0",stopColor:"#fff"}),r.a.createElement("stop",{offset:"1",stopColor:"#d1d3d4"})),r.a.createElement("linearGradient",{id:"linear-gradient-2",y1:"0.5",x2:"1",y2:"0.5",gradientUnits:"objectBoundingBox"},r.a.createElement("stop",{offset:"0",stopColor:"#d1d3d4"}),r.a.createElement("stop",{offset:"1",stopColor:"#fff"}))),r.a.createElement("ellipse",{id:"Ellipse_1254","data-name":"Ellipse 1254",cx:"40.259",cy:"40.259",rx:"40.259",ry:"40.259",transform:"translate(0 0)",fill:"url(#linear-gradient)"}),r.a.createElement("ellipse",{id:"Ellipse_1255","data-name":"Ellipse 1255",cx:"38.246",cy:"38.246",rx:"38.246",ry:"38.246",transform:"translate(2.013 2.013)",fill:"url(#linear-gradient-2)"}),r.a.createElement("g",{id:"Group_150","data-name":"Group 150",transform:"translate(10.568 10.568)"},r.a.createElement("ellipse",{id:"Ellipse_25","data-name":"Ellipse 25",cx:"30.194",cy:"30.194",rx:"30.194",ry:"30.194",transform:"translate(7.757 7.757)",fill:"#fff",opacity:"0"}),r.a.createElement("ellipse",{id:"Ellipse_26","data-name":"Ellipse 26",cx:"30.162",cy:"30.162",rx:"30.162",ry:"30.162",transform:"translate(7.272 7.272)",fill:"#f7f7f7",opacity:"0.063"}),r.a.createElement("ellipse",{id:"Ellipse_27","data-name":"Ellipse 27",cx:"30.131",cy:"30.131",rx:"30.131",ry:"30.131",transform:"translate(6.787 6.787)",fill:"#efeff0",opacity:"0.125"}),r.a.createElement("ellipse",{id:"Ellipse_28","data-name":"Ellipse 28",cx:"30.1",cy:"30.1",rx:"30.1",ry:"30.1",transform:"translate(6.303 6.302)",fill:"#e7e8e8",opacity:"0.188"}),r.a.createElement("ellipse",{id:"Ellipse_29","data-name":"Ellipse 29",cx:"30.068",cy:"30.068",rx:"30.068",ry:"30.068",transform:"translate(5.818 5.818)",fill:"#dfe0e1",opacity:"0.25"}),r.a.createElement("ellipse",{id:"Ellipse_30","data-name":"Ellipse 30",cx:"30.037",cy:"30.037",rx:"30.037",ry:"30.037",transform:"translate(5.333 5.333)",fill:"#d7d8d9",opacity:"0.313"}),r.a.createElement("ellipse",{id:"Ellipse_31","data-name":"Ellipse 31",cx:"30.005",cy:"30.005",rx:"30.005",ry:"30.005",transform:"translate(4.848 4.848)",fill:"#cfd0d1",opacity:"0.375"}),r.a.createElement("ellipse",{id:"Ellipse_32","data-name":"Ellipse 32",cx:"29.974",cy:"29.974",rx:"29.974",ry:"29.974",transform:"translate(4.363 4.363)",fill:"#c7c8ca",opacity:"0.438"}),r.a.createElement("ellipse",{id:"Ellipse_33","data-name":"Ellipse 33",cx:"29.942",cy:"29.942",rx:"29.942",ry:"29.942",transform:"translate(3.878 3.878)",fill:"#c0c1c2",opacity:"0.5"}),r.a.createElement("ellipse",{id:"Ellipse_34","data-name":"Ellipse 34",cx:"29.911",cy:"29.911",rx:"29.911",ry:"29.911",transform:"translate(3.394 3.394)",fill:"#b8b9ba",opacity:"0.563"}),r.a.createElement("ellipse",{id:"Ellipse_35","data-name":"Ellipse 35",cx:"29.879",cy:"29.879",rx:"29.879",ry:"29.879",transform:"translate(2.909 2.909)",fill:"#b0b1b3",opacity:"0.625"}),r.a.createElement("ellipse",{id:"Ellipse_36","data-name":"Ellipse 36",cx:"29.848",cy:"29.848",rx:"29.848",ry:"29.848",transform:"translate(2.424 2.424)",fill:"#a8a9ab",opacity:"0.688"}),r.a.createElement("ellipse",{id:"Ellipse_37","data-name":"Ellipse 37",cx:"29.816",cy:"29.816",rx:"29.816",ry:"29.816",transform:"translate(1.939 1.939)",fill:"#a0a1a4",opacity:"0.75"}),r.a.createElement("ellipse",{id:"Ellipse_38","data-name":"Ellipse 38",cx:"29.785",cy:"29.785",rx:"29.785",ry:"29.785",transform:"translate(1.454 1.454)",fill:"#98999c",opacity:"0.813"}),r.a.createElement("ellipse",{id:"Ellipse_39","data-name":"Ellipse 39",cx:"29.754",cy:"29.754",rx:"29.754",ry:"29.754",transform:"translate(0.97 0.97)",fill:"#909294",opacity:"0.875"}),r.a.createElement("ellipse",{id:"Ellipse_40","data-name":"Ellipse 40",cx:"29.722",cy:"29.722",rx:"29.722",ry:"29.722",transform:"translate(0.485 0.485)",fill:"#888a8d",opacity:"0.938"}),r.a.createElement("ellipse",{id:"Ellipse_41","data-name":"Ellipse 41",cx:"29.691",cy:"29.691",rx:"29.691",ry:"29.691",fill:"#808285"})),r.a.createElement("ellipse",{id:"Ellipse_1256","data-name":"Ellipse 1256",cx:"30.194",cy:"30.194",rx:"30.194",ry:"30.194",transform:"translate(10.065 10.065)",fill:"#2e4442"}),r.a.createElement("ellipse",{id:"Ellipse_1257","data-name":"Ellipse 1257",cx:"25.162",cy:"25.162",rx:"25.162",ry:"25.162",transform:"translate(15.261 15.261)",fill:"#2e4442"}),r.a.createElement("g",{id:"Group_152","data-name":"Group 152",transform:"translate(30.174 27.018)"},r.a.createElement("path",{id:"Path_113","data-name":"Path 113",d:"M706.453,171.649a3.433,3.433,0,0,1-3.433-3.433V151.053a3.433,3.433,0,0,1,6.866,0v17.164A3.433,3.433,0,0,1,706.453,171.649Z",transform:"translate(-689.976 -147.62)",fill:t?"#e06c22":"#fff"}),r.a.createElement("path",{id:"Path_114","data-name":"Path 114",d:"M683.653,171.649a3.432,3.432,0,0,1-3.433-3.433V151.053a3.433,3.433,0,1,1,6.865,0v17.164A3.432,3.432,0,0,1,683.653,171.649Z",transform:"translate(-680.22 -147.62)",fill:t?"#e06c22":"#fff"}))))}function St(e){var t=e.active,a=e.handler;return r.a.createElement("span",{className:"video-icon-wrapper record-icon-wrapper",onClick:a},r.a.createElement("svg",{id:"Group_175","data-name":"Group 175",xmlns:"http://www.w3.org/2000/svg",width:"80.518",height:"80.517",viewBox:"0 0 80.518 80.517"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"linear-gradient",y1:"0.5",x2:"1",y2:"0.5",gradientUnits:"objectBoundingBox"},r.a.createElement("stop",{offset:"0",stopColor:"#fff"}),r.a.createElement("stop",{offset:"1",stopColor:"#d1d3d4"})),r.a.createElement("linearGradient",{id:"linear-gradient-2",y1:"0.5",x2:"1",y2:"0.5",gradientUnits:"objectBoundingBox"},r.a.createElement("stop",{offset:"0",stopColor:"#d1d3d4"}),r.a.createElement("stop",{offset:"1",stopColor:"#fff"}))),r.a.createElement("ellipse",{id:"Ellipse_1250","data-name":"Ellipse 1250",cx:"40.259",cy:"40.259",rx:"40.259",ry:"40.259",transform:"translate(0 0)",fill:"url(#linear-gradient)"}),r.a.createElement("ellipse",{id:"Ellipse_1251","data-name":"Ellipse 1251",cx:"38.246",cy:"38.246",rx:"38.246",ry:"38.246",transform:"translate(2.013 2.013)",fill:"url(#linear-gradient-2)"}),r.a.createElement("g",{id:"Group_148","data-name":"Group 148",transform:"translate(10.568 10.568)"},r.a.createElement("ellipse",{id:"Ellipse_25","data-name":"Ellipse 25",cx:"30.194",cy:"30.194",rx:"30.194",ry:"30.194",transform:"translate(7.757 7.757)",fill:"#fff",opacity:"0"}),r.a.createElement("ellipse",{id:"Ellipse_26","data-name":"Ellipse 26",cx:"30.162",cy:"30.162",rx:"30.162",ry:"30.162",transform:"translate(7.272 7.272)",fill:"#f7f7f7",opacity:"0.063"}),r.a.createElement("ellipse",{id:"Ellipse_27","data-name":"Ellipse 27",cx:"30.131",cy:"30.131",rx:"30.131",ry:"30.131",transform:"translate(6.787 6.787)",fill:"#efeff0",opacity:"0.125"}),r.a.createElement("ellipse",{id:"Ellipse_28","data-name":"Ellipse 28",cx:"30.1",cy:"30.1",rx:"30.1",ry:"30.1",transform:"translate(6.303 6.302)",fill:"#e7e8e8",opacity:"0.188"}),r.a.createElement("ellipse",{id:"Ellipse_29","data-name":"Ellipse 29",cx:"30.068",cy:"30.068",rx:"30.068",ry:"30.068",transform:"translate(5.818 5.818)",fill:"#dfe0e1",opacity:"0.25"}),r.a.createElement("ellipse",{id:"Ellipse_30","data-name":"Ellipse 30",cx:"30.037",cy:"30.037",rx:"30.037",ry:"30.037",transform:"translate(5.333 5.333)",fill:"#d7d8d9",opacity:"0.313"}),r.a.createElement("ellipse",{id:"Ellipse_31","data-name":"Ellipse 31",cx:"30.005",cy:"30.005",rx:"30.005",ry:"30.005",transform:"translate(4.848 4.848)",fill:"#cfd0d1",opacity:"0.375"}),r.a.createElement("ellipse",{id:"Ellipse_32","data-name":"Ellipse 32",cx:"29.974",cy:"29.974",rx:"29.974",ry:"29.974",transform:"translate(4.363 4.363)",fill:"#c7c8ca",opacity:"0.438"}),r.a.createElement("ellipse",{id:"Ellipse_33","data-name":"Ellipse 33",cx:"29.942",cy:"29.942",rx:"29.942",ry:"29.942",transform:"translate(3.878 3.878)",fill:"#c0c1c2",opacity:"0.5"}),r.a.createElement("ellipse",{id:"Ellipse_34","data-name":"Ellipse 34",cx:"29.911",cy:"29.911",rx:"29.911",ry:"29.911",transform:"translate(3.394 3.394)",fill:"#b8b9ba",opacity:"0.563"}),r.a.createElement("ellipse",{id:"Ellipse_35","data-name":"Ellipse 35",cx:"29.879",cy:"29.879",rx:"29.879",ry:"29.879",transform:"translate(2.909 2.909)",fill:"#b0b1b3",opacity:"0.625"}),r.a.createElement("ellipse",{id:"Ellipse_36","data-name":"Ellipse 36",cx:"29.848",cy:"29.848",rx:"29.848",ry:"29.848",transform:"translate(2.424 2.424)",fill:"#a8a9ab",opacity:"0.688"}),r.a.createElement("ellipse",{id:"Ellipse_37","data-name":"Ellipse 37",cx:"29.816",cy:"29.816",rx:"29.816",ry:"29.816",transform:"translate(1.939 1.939)",fill:"#a0a1a4",opacity:"0.75"}),r.a.createElement("ellipse",{id:"Ellipse_38","data-name":"Ellipse 38",cx:"29.785",cy:"29.785",rx:"29.785",ry:"29.785",transform:"translate(1.454 1.454)",fill:"#98999c",opacity:"0.813"}),r.a.createElement("ellipse",{id:"Ellipse_39","data-name":"Ellipse 39",cx:"29.754",cy:"29.754",rx:"29.754",ry:"29.754",transform:"translate(0.97 0.97)",fill:"#909294",opacity:"0.875"}),r.a.createElement("ellipse",{id:"Ellipse_40","data-name":"Ellipse 40",cx:"29.722",cy:"29.722",rx:"29.722",ry:"29.722",transform:"translate(0.485 0.485)",fill:"#888a8d",opacity:"0.938"}),r.a.createElement("ellipse",{id:"Ellipse_41","data-name":"Ellipse 41",cx:"29.691",cy:"29.691",rx:"29.691",ry:"29.691",fill:"#808285"})),r.a.createElement("ellipse",{id:"Ellipse_1252","data-name":"Ellipse 1252",cx:"30.194",cy:"30.194",rx:"30.194",ry:"30.194",transform:"translate(10.065 10.065)",fill:"#2e4442"}),r.a.createElement("ellipse",{id:"Ellipse_1253","data-name":"Ellipse 1253",cx:"25.162",cy:"25.162",rx:"25.162",ry:"25.162",transform:"translate(15.261 15.261)",fill:"#2e4442"}),r.a.createElement("rect",{className:"record-btn ".concat(t?"record-pulse":""),id:"Rectangle_3","data-name":"Rectangle 3",width:"21.426",height:"21.426",rx:"10.713",transform:"translate(29.185 29.185)",fill:"#fff"})))}function Ot(e){e.active;var t=e.handler;return r.a.createElement("span",{className:"video-icon-wrapper record-icon-wrapper",onClick:t},r.a.createElement("svg",{id:"Group_175","data-name":"Group 175",xmlns:"http://www.w3.org/2000/svg",width:"80.518",height:"80.517",viewBox:"0 0 80.518 80.517"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"linear-gradient",y1:"0.5",x2:"1",y2:"0.5",gradientUnits:"objectBoundingBox"},r.a.createElement("stop",{offset:"0",stopColor:"#fff"}),r.a.createElement("stop",{offset:"1",stopColor:"#d1d3d4"})),r.a.createElement("linearGradient",{id:"linear-gradient-2",y1:"0.5",x2:"1",y2:"0.5",gradientUnits:"objectBoundingBox"},r.a.createElement("stop",{offset:"0",stopColor:"#d1d3d4"}),r.a.createElement("stop",{offset:"1",stopColor:"#fff"}))),r.a.createElement("ellipse",{id:"Ellipse_1250","data-name":"Ellipse 1250",cx:"40.259",cy:"40.259",rx:"40.259",ry:"40.259",transform:"translate(0 0)",fill:"url(#linear-gradient)"}),r.a.createElement("ellipse",{id:"Ellipse_1251","data-name":"Ellipse 1251",cx:"38.246",cy:"38.246",rx:"38.246",ry:"38.246",transform:"translate(2.013 2.013)",fill:"url(#linear-gradient-2)"}),r.a.createElement("g",{id:"Group_148","data-name":"Group 148",transform:"translate(10.568 10.568)"},r.a.createElement("ellipse",{id:"Ellipse_25","data-name":"Ellipse 25",cx:"30.194",cy:"30.194",rx:"30.194",ry:"30.194",transform:"translate(7.757 7.757)",fill:"#fff",opacity:"0"}),r.a.createElement("ellipse",{id:"Ellipse_26","data-name":"Ellipse 26",cx:"30.162",cy:"30.162",rx:"30.162",ry:"30.162",transform:"translate(7.272 7.272)",fill:"#f7f7f7",opacity:"0.063"}),r.a.createElement("ellipse",{id:"Ellipse_27","data-name":"Ellipse 27",cx:"30.131",cy:"30.131",rx:"30.131",ry:"30.131",transform:"translate(6.787 6.787)",fill:"#efeff0",opacity:"0.125"}),r.a.createElement("ellipse",{id:"Ellipse_28","data-name":"Ellipse 28",cx:"30.1",cy:"30.1",rx:"30.1",ry:"30.1",transform:"translate(6.303 6.302)",fill:"#e7e8e8",opacity:"0.188"}),r.a.createElement("ellipse",{id:"Ellipse_29","data-name":"Ellipse 29",cx:"30.068",cy:"30.068",rx:"30.068",ry:"30.068",transform:"translate(5.818 5.818)",fill:"#dfe0e1",opacity:"0.25"}),r.a.createElement("ellipse",{id:"Ellipse_30","data-name":"Ellipse 30",cx:"30.037",cy:"30.037",rx:"30.037",ry:"30.037",transform:"translate(5.333 5.333)",fill:"#d7d8d9",opacity:"0.313"}),r.a.createElement("ellipse",{id:"Ellipse_31","data-name":"Ellipse 31",cx:"30.005",cy:"30.005",rx:"30.005",ry:"30.005",transform:"translate(4.848 4.848)",fill:"#cfd0d1",opacity:"0.375"}),r.a.createElement("ellipse",{id:"Ellipse_32","data-name":"Ellipse 32",cx:"29.974",cy:"29.974",rx:"29.974",ry:"29.974",transform:"translate(4.363 4.363)",fill:"#c7c8ca",opacity:"0.438"}),r.a.createElement("ellipse",{id:"Ellipse_33","data-name":"Ellipse 33",cx:"29.942",cy:"29.942",rx:"29.942",ry:"29.942",transform:"translate(3.878 3.878)",fill:"#c0c1c2",opacity:"0.5"}),r.a.createElement("ellipse",{id:"Ellipse_34","data-name":"Ellipse 34",cx:"29.911",cy:"29.911",rx:"29.911",ry:"29.911",transform:"translate(3.394 3.394)",fill:"#b8b9ba",opacity:"0.563"}),r.a.createElement("ellipse",{id:"Ellipse_35","data-name":"Ellipse 35",cx:"29.879",cy:"29.879",rx:"29.879",ry:"29.879",transform:"translate(2.909 2.909)",fill:"#b0b1b3",opacity:"0.625"}),r.a.createElement("ellipse",{id:"Ellipse_36","data-name":"Ellipse 36",cx:"29.848",cy:"29.848",rx:"29.848",ry:"29.848",transform:"translate(2.424 2.424)",fill:"#a8a9ab",opacity:"0.688"}),r.a.createElement("ellipse",{id:"Ellipse_37","data-name":"Ellipse 37",cx:"29.816",cy:"29.816",rx:"29.816",ry:"29.816",transform:"translate(1.939 1.939)",fill:"#a0a1a4",opacity:"0.75"}),r.a.createElement("ellipse",{id:"Ellipse_38","data-name":"Ellipse 38",cx:"29.785",cy:"29.785",rx:"29.785",ry:"29.785",transform:"translate(1.454 1.454)",fill:"#98999c",opacity:"0.813"}),r.a.createElement("ellipse",{id:"Ellipse_39","data-name":"Ellipse 39",cx:"29.754",cy:"29.754",rx:"29.754",ry:"29.754",transform:"translate(0.97 0.97)",fill:"#909294",opacity:"0.875"}),r.a.createElement("ellipse",{id:"Ellipse_40","data-name":"Ellipse 40",cx:"29.722",cy:"29.722",rx:"29.722",ry:"29.722",transform:"translate(0.485 0.485)",fill:"#888a8d",opacity:"0.938"}),r.a.createElement("ellipse",{id:"Ellipse_41","data-name":"Ellipse 41",cx:"29.691",cy:"29.691",rx:"29.691",ry:"29.691",fill:"#808285"})),r.a.createElement("ellipse",{id:"Ellipse_1252","data-name":"Ellipse 1252",cx:"30.194",cy:"30.194",rx:"30.194",ry:"30.194",transform:"translate(10.065 10.065)",fill:"#2e4442"}),r.a.createElement("ellipse",{id:"Ellipse_1253","data-name":"Ellipse 1253",cx:"25.162",cy:"25.162",rx:"25.162",ry:"25.162",transform:"translate(15.261 15.261)",fill:"#2e4442"}),r.a.createElement("rect",{id:"Rectangle_3","data-name":"Rectangle 3",width:"21.426",height:"21.426",rx:"4.713",transform:"translate(29.185 29.185)",fill:"#fff"})))}var xt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,a=(e.onClose,e.children);return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-overlay"}),r.a.createElement("div",{className:"modal-container"},a)):r.a.createElement(r.a.Fragment,null)}}]),t}(n.PureComponent),Pt=lt()("".concat("http://52.147.7.148:5000","/session/state")).connect(),wt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showConfirmModal:!1},a.setMode=function(e){a.props.session.activeMode!==e&&("PREVIEW"!==e&&"STOP_SESSION"!==e||"STOP_SESSION"===e&&Pt.emit("json",{active:!1,paused:!1}),"RECORD_SESSION"===e&&Pt.emit("json",{active:!0,paused:!1}),"PAUSE_SESSION"===e&&Pt.emit("json",{active:!1,paused:!0}))},a.showModal=function(){a.setState({showConfirmModal:!a.state.showConfirmModal}),a.state.showConfirmModal||a.props.showNotification("Stop recording session ?",0,"STOP_SESSION")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;Pt.on("json",(function(t){var a=t.active,n=t.paused,r="";a&&!n&&(r="RECORD_SESSION"),n&&!a&&(r="PAUSE_SESSION"),a||n||(r="STOP_SESSION"),console.log({sessionState:t,mode:r}),e.props.setActiveMode(r,e.props.showNotification)})),Pt.on("connect",(function(){return e.props.systemStatusChange({sessionControls:!0})})),Pt.on("disconnect",(function(){return e.props.systemStatusChange({sessionControls:!1})})),Pt.connected||this.props.systemStatusChange({sessionControls:!1})}},{key:"componentWillUnmount",value:function(){Pt.removeAllListeners("json")}},{key:"render",value:function(){var e=this,t=this.props.session,a=(t.activeMode,t.previewMode),n=t.recordingMode,o=t.sessionPause,i=(t.startupMode,this.state.showConfirmModal);return r.a.createElement(r.a.Fragment,null,r.a.createElement(St,{active:n,handler:function(){return(!n||o)&&e.setMode("RECORD_SESSION")}}),r.a.createElement(bt,{active:a||o,handler:function(){return!a&&!o&&e.setMode("PAUSE_SESSION")}}),o&&r.a.createElement(Ot,{handler:this.showModal}),r.a.createElement(xt,{open:i,onClose:this.showModal},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h2",null,"Stop Session")),r.a.createElement("div",{className:"modal-content"},r.a.createElement("p",null,"Are you sure you want to stop the current session ?")),r.a.createElement("div",{className:"modal-actions"},r.a.createElement("button",{className:"link-btn",onClick:this.showModal},"Disagree"),r.a.createElement("button",{className:"link-btn",onClick:function(){e.showModal(),e.setMode("STOP_SESSION")},color:"primary"},"Agree"))))}}]),t}(n.Component),Nt=Object(f.b)((function(e){return{session:e.session}}),{setActiveMode:function(e,t){return function(a){"PREVIEW"!==e&&"STOP_SESSION"!==e||(t("Preview mode",0,"PREVIEW"),a({type:g.SET_PREVIEW_MODE,payload:{activeMode:"PREVIEW",startupMode:!1,previewMode:!0,recordingMode:!1,sessionPause:!1}})),"RECORD_SESSION"===e&&(t("Recording session",6e3,e),a({type:g.SET_RECORDING_MODE,payload:{activeMode:"RECORD_SESSION",previewMode:!1,recordingMode:!0,sessionPause:!1}})),"PAUSE_SESSION"===e&&(t("Recording session paused",0,e),a({type:g.SET_SESSION_PAUSE,payload:{activeMode:"PAUSE_SESSION",sessionPause:!0,recordingMode:!1}}))}},systemStatusChange:Je})(wt);function jt(e){var t=e.active,a=e.handler,n=e.classNames,o=e.frame;return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"46.305",height:"46.305",viewBox:"0 0 46.305 46.305",className:n,onClick:a},r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"linear-gradient",y1:"0.5",x2:"1",y2:"0.5",gradientUnits:"objectBoundingBox"},r.a.createElement("stop",{offset:"0",stopColor:"#fff"}),r.a.createElement("stop",{offset:"1",stopColor:"#d1d3d4"})),r.a.createElement("linearGradient",{id:"linear-gradient-2",y1:"0.5",x2:"1",y2:"0.5",gradientUnits:"objectBoundingBox"},r.a.createElement("stop",{offset:"0",stopColor:"#d1d3d4"}),r.a.createElement("stop",{offset:"1",stopColor:"#fff"}))),r.a.createElement("g",{id:"Group_165","data-name":"Group 165",transform:"translate(-1856.328 -387.8)"},r.a.createElement("circle",{id:"Ellipse_1262","data-name":"Ellipse 1262",cx:"23.153",cy:"23.153",r:"23.153",transform:"translate(1856.328 387.8)",fill:"url(#linear-gradient)"}),r.a.createElement("ellipse",{id:"Ellipse_1263","data-name":"Ellipse 1263",cx:"21.995",cy:"21.995",rx:"21.995",ry:"21.995",transform:"translate(1857.485 388.958)",fill:"url(#linear-gradient-2)"}),r.a.createElement("g",{id:"Group_153","data-name":"Group 153",transform:"translate(1862.405 393.878)"},r.a.createElement("ellipse",{id:"Ellipse_25","data-name":"Ellipse 25",cx:"17.365",cy:"17.365",rx:"17.365",ry:"17.365",transform:"translate(4.461 4.461)",fill:"#fff",opacity:"0"}),r.a.createElement("circle",{id:"Ellipse_26","data-name":"Ellipse 26",cx:"17.346",cy:"17.346",r:"17.346",transform:"translate(4.182 4.182)",fill:"#f7f7f7",opacity:"0.063"}),r.a.createElement("ellipse",{id:"Ellipse_27","data-name":"Ellipse 27",cx:"17.328",cy:"17.328",rx:"17.328",ry:"17.328",transform:"translate(3.903 3.903)",fill:"#efeff0",opacity:"0.125"}),r.a.createElement("circle",{id:"Ellipse_28","data-name":"Ellipse 28",cx:"17.31",cy:"17.31",r:"17.31",transform:"translate(3.625 3.625)",fill:"#e7e8e8",opacity:"0.188"}),r.a.createElement("circle",{id:"Ellipse_29","data-name":"Ellipse 29",cx:"17.292",cy:"17.292",r:"17.292",transform:"translate(3.346 3.346)",fill:"#dfe0e1",opacity:"0.25"}),r.a.createElement("circle",{id:"Ellipse_30","data-name":"Ellipse 30",cx:"17.274",cy:"17.274",r:"17.274",transform:"translate(3.067 3.067)",fill:"#d7d8d9",opacity:"0.313"}),r.a.createElement("circle",{id:"Ellipse_31","data-name":"Ellipse 31",cx:"17.256",cy:"17.256",r:"17.256",transform:"translate(2.788 2.788)",fill:"#cfd0d1",opacity:"0.375"}),r.a.createElement("ellipse",{id:"Ellipse_32","data-name":"Ellipse 32",cx:"17.238",cy:"17.238",rx:"17.238",ry:"17.238",transform:"translate(2.509 2.509)",fill:"#c7c8ca",opacity:"0.438"}),r.a.createElement("circle",{id:"Ellipse_33","data-name":"Ellipse 33",cx:"17.22",cy:"17.22",r:"17.22",transform:"translate(2.23 2.23)",fill:"#c0c1c2",opacity:"0.5"}),r.a.createElement("circle",{id:"Ellipse_34","data-name":"Ellipse 34",cx:"17.202",cy:"17.202",r:"17.202",transform:"translate(1.952 1.952)",fill:"#b8b9ba",opacity:"0.563"}),r.a.createElement("ellipse",{id:"Ellipse_35","data-name":"Ellipse 35",cx:"17.184",cy:"17.184",rx:"17.184",ry:"17.184",transform:"translate(1.673 1.673)",fill:"#b0b1b3",opacity:"0.625"}),r.a.createElement("ellipse",{id:"Ellipse_36","data-name":"Ellipse 36",cx:"17.166",cy:"17.166",rx:"17.166",ry:"17.166",transform:"translate(1.394 1.394)",fill:"#a8a9ab",opacity:"0.688"}),r.a.createElement("ellipse",{id:"Ellipse_37","data-name":"Ellipse 37",cx:"17.147",cy:"17.147",rx:"17.147",ry:"17.147",transform:"translate(1.115 1.115)",fill:"#a0a1a4",opacity:"0.75"}),r.a.createElement("circle",{id:"Ellipse_38","data-name":"Ellipse 38",cx:"17.129",cy:"17.129",r:"17.129",transform:"translate(0.836 0.836)",fill:"#98999c",opacity:"0.813"}),r.a.createElement("circle",{id:"Ellipse_39","data-name":"Ellipse 39",cx:"17.111",cy:"17.111",r:"17.111",transform:"translate(0.558 0.558)",fill:"#909294",opacity:"0.875"}),r.a.createElement("ellipse",{id:"Ellipse_40","data-name":"Ellipse 40",cx:"17.093",cy:"17.093",rx:"17.093",ry:"17.093",transform:"translate(0.279 0.279)",fill:"#888a8d",opacity:"0.938"}),r.a.createElement("circle",{id:"Ellipse_41","data-name":"Ellipse 41",cx:"17.075",cy:"17.075",r:"17.075",fill:"#808285"})),r.a.createElement("ellipse",{id:"Ellipse_1264","data-name":"Ellipse 1264",cx:"17.365",cy:"17.365",rx:"17.365",ry:"17.365",transform:"translate(1862.116 393.588)",fill:"#2e4442"}),r.a.createElement("ellipse",{id:"Ellipse_1265","data-name":"Ellipse 1265",cx:"14.47",cy:"14.47",rx:"14.47",ry:"14.47",transform:"translate(1865.01 396.482)",fill:"#2e4442"}),"sonar"===o&&r.a.createElement("g",{id:"Group_158","data-name":"Group 158",transform:"translate(1868 400)"},r.a.createElement("path",{className:"st0",d:"M17.3,11.8h4.6v9.7H12V17H0V0h17.3V11.8z M13.4,20.2h7.1v-7h-3.2V17h-3.9V20.2z M13.4,15.6h2.5v-2.4h-2.5V15.6\r z M1.4,1.4v14.3H12v-3.8h3.9V1.4H1.4z",fill:t?"#e06c22":"#fff"}),r.a.createElement("path",{className:"st0",d:"M10.4,11.2L5,5.9v2.6c0,0.4-0.3,0.7-0.7,0.7S3.6,8.9,3.6,8.5v-5h5.1c0.4,0,0.7,0.3,0.7,0.7\r c0,0.4-0.3,0.7-0.7,0.7H6l5.4,5.3L10.4,11.2z",fill:t?"#e06c22":"#fff"})),"map"===o&&r.a.createElement("g",{id:"Group_158","data-name":"Group 158",transform:"translate(1868 400)"},r.a.createElement("path",{className:"st0",d:"M17.3,9.7h4.6V0H12v4.5H0v17h17.3V9.7z M13.4,1.4h7.1v7h-3.2V4.5h-3.9V1.4z M13.4,5.9h2.5v2.4h-2.5V5.9z\r\nM1.4,20.2V5.9H12v3.8h3.9v10.5H1.4z",fill:t?"#e06c22":"#fff"}),r.a.createElement("path",{className:"st0",d:"M10.4,10.4L5,15.7v-2.6c0-0.4-0.3-0.7-0.7-0.7s-0.7,0.3-0.7,0.7v5h5.1c0.4,0,0.7-0.3,0.7-0.7S9,16.6,8.7,16.6\r\nH6l5.4-5.3L10.4,10.4z",fill:t?"#e06c22":"#fff"}))))}function _t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_t(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_t(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ct=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handlePopup=function(e){var t=a.props.trainingSet,n=(t.showTrainingSet,t.annotation),r=t.point;a.props.sendDragAnnotationData({annotation:Mt({},n,{class:e}),point:r}),new Audio(be.a).play()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.trainingSet.dataSet;return r.a.createElement("div",{className:"popup-layer"},r.a.createElement("div",{className:"dr-popup-wrapper"},r.a.createElement("span",{className:"dr-popup-label"},"Training set:"),r.a.createElement("div",{className:"dr-popup-inner-wrap"},t.map((function(t,a){return r.a.createElement("div",{key:a,className:"popup-item",onClick:t.img?function(){return e.handlePopup(t.title)}:null},r.a.createElement("div",{className:"popup-img-wrapper"},t.img&&r.a.createElement("img",{src:t.img,className:"popup-img"})),r.a.createElement("span",{className:"popup-label ".concat(t.labelColorClass?t.labelColorClass:"")},t.title&&r.a.createElement("span",{className:"popup-text"},t.title)))})),r.a.createElement("div",{className:"popup-item",onClick:function(){return e.handlePopup("Unknown")}},r.a.createElement("div",{className:"popup-img-wrapper"},r.a.createElement("h1",null,"?")),r.a.createElement("span",{className:"popup-label bg-red-d"},r.a.createElement("span",{className:"popup-text"},"Unknown or Other"))))))}}]),t}(n.Component),Tt=Object(f.b)((function(e){return{trainingSet:e.trainingSet}}),{toggleTrainigSetModal:_e,sendDragAnnotationData:function(e){return function(t){fetch("".concat(je,"/annotation/videoRectangle"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),t({type:Ne.TOGGLE_TRAINING_SET,payload:!1})})).catch((function(e){return console.log(e)}))}}})(Ct),kt=lt()("".concat("http://52.147.7.148:5000","/status/updates")).connect(),Dt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={status:[]},a.updateState=function(e){a.setState({status:e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;kt.on("json",this.updateState),kt.on("connect",(function(){return e.props.systemStatusChange({gliderStats:!0})})),kt.on("disconnect",(function(){return e.props.systemStatusChange({gliderStats:!1})})),kt.connected||this.props.systemStatusChange({gliderStats:!1})}},{key:"componentWillUnmount",value:function(){kt.removeAllListeners("json")}},{key:"render",value:function(){var e=Object(Fe.a)(this.state.status,2),t=e[0];e[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"state-labels"},r.a.createElement("span",{className:"state-title"},"Depth"),r.a.createElement("span",{className:"state-value"},t?"".concat(t.value.toFixed(1)," m"):"24.1 m")),r.a.createElement("div",{className:"state-labels"},r.a.createElement("span",{className:"state-title"},"Speed"),r.a.createElement("span",{className:"state-value"},"1.96 kts")),r.a.createElement("div",{className:"state-labels"},r.a.createElement("span",{className:"state-title"},"G.Depth"),r.a.createElement("span",{className:"state-value"},"24.1 m")),r.a.createElement("div",{className:"state-labels"},r.a.createElement("span",{className:"state-title"},"G.Attitude"),r.a.createElement("span",{className:"state-value"},"25.2 m")),r.a.createElement("div",{className:"state-labels"},r.a.createElement("span",{className:"state-title"},"G.Speed"),r.a.createElement("span",{className:"state-value"},"1.96 kts")),r.a.createElement("div",{className:"state-labels"},r.a.createElement("span",{className:"state-title"},"Img qty"),r.a.createElement("span",{className:"red-text",style:{display:"block",fontSize:24,fontWeight:600,color:"#ff0018"}},"Focus"),r.a.createElement("span",{className:"green-text",style:{fontSize:23,fontWeight:600,color:"#00ff3a"}},"Exposure")),r.a.createElement("div",{className:"state-labels"},r.a.createElement("span",{className:"state-title"},"Time"),r.a.createElement("span",{className:"state-value"},"4:07:03")),r.a.createElement("div",{className:"state-labels"},r.a.createElement("span",{className:"state-title"},"Distance"),r.a.createElement("span",{className:"state-value"},"18.3 km")))}}]),t}(n.Component),At=Object(f.b)((function(e){return{systemStatus:e.systemStatus}}),{systemStatusChange:Je})(Dt),It=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={flashValue:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;this.props.starFishCounter!==e.starFishCounter&&(new Audio(be.a).play(),this.setState({flashValue:"flashValue",flashValueTimeout:setTimeout((function(){return a.setState({flashValue:""})}),500)}))}},{key:"render",value:function(){var e=this.state.flashValue,t=this.props.starFishCounter;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"info-text"},r.a.createElement("div",{className:"info-inner-wrapper"},r.a.createElement("span",{className:"info-label"},"Coral cover"),r.a.createElement("span",{className:"info-value"},"23%")),r.a.createElement("div",{className:"info-inner-wrapper"},r.a.createElement("span",{className:"info-label"},"Starfish"),r.a.createElement("span",{className:"info-value ".concat(e)},t)),r.a.createElement("div",{className:"info-inner-wrapper"},r.a.createElement("span",{className:"info-label"},"Seagrass"),r.a.createElement("span",{className:"info-value"},"3%")),r.a.createElement("div",{className:"info-inner-wrapper"},r.a.createElement("span",{className:"info-label"},"Sand"),r.a.createElement("span",{className:"info-value"},"36%"))))}}]),t}(n.Component),Rt=a(27),Gt=a.n(Rt),Vt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={percentBarMenu:!1,dataSelection:"",sedimentPopup:!1,sedimentPopupData:[{name:"Shale"},{name:"Gravel"},{name:"Sand"},{name:"Silt"},{name:"Clay"}],sedimentPopupActiveItem:""},a.setDataSelection=function(e){var t=a.state.dataSelection;if(a.feedBackSounds("click"),"sediment"===e)return a.setState({sedimentPopup:!a.state.sedimentPopup});t===e?a.setState({dataSelection:"",percentBarMenu:!1}):a.setState({dataSelection:e,percentBarMenu:!0})},a.setSedimentItem=function(e){a.feedBackSounds("click"),a.setState({sedimentPopupActiveItem:e.name})},a.sendPercentageData=function(e){var t=a.state,n=t.dataSelection,r=t.sedimentPopupActiveItem,o=a.props,i=o.trainingSet.dataSet,s=o.mapState,l=s.pathIndex,c=s.path,p=c[l]?c[l][0]:0,m=c[l]?c[l][1]:0,u="";n&&(u=i.filter((function(e){return e.shortName===n}))[0].title);r&&(u=r),a.props.sendSeaGrassData({annotation:{timestamp:Date.now(),latitude:p,longitude:m,class:u,percentage:e}}),a.feedBackSounds("success"),a.setState({percentBarMenu:!1,dataSelection:"",sedimentPopupActiveItem:"",sedimentPopup:!1})},a.feedBackSounds=function(e){"click"===e&&new Audio(Gt.a).play();"success"===e&&new Audio(be.a).play()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=["<0%","<2%","<10%","<20%","<30%","<40%","<50%","<60%","<70%","<80%","<90%","<100%"],a=this.state,n=a.percentBarMenu,o=a.dataSelection,i=a.sedimentPopup,s=a.sedimentPopupData,l=a.sedimentPopupActiveItem;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bottom-sec"},r.a.createElement("div",{className:"data-wrapper"},r.a.createElement("div",{className:"data-inner-wrap"},r.a.createElement("div",{className:"data-item border-brown bg-brown ".concat("ho"===o?"active":""),onClick:function(){return e.setDataSelection("ho")}},r.a.createElement("img",{className:"data-img",src:"images/Picture10.png"}),r.a.createElement("span",{className:"data-label"},"Ho"),r.a.createElement("span",{className:"play-icon-wrap"},r.a.createElement("img",{className:"play-icon",src:"images/play-small-icon.svg"}))),r.a.createElement("div",{className:"data-item border-violet bg-violet ".concat("hs"===o?"active":""),onClick:function(){return e.setDataSelection("hs")}},r.a.createElement("img",{className:"data-img",style:{width:"auto"},src:"images/Picture11.png"}),r.a.createElement("span",{className:"data-label"},"Hs"),r.a.createElement("span",{className:"play-icon-wrap"},r.a.createElement("img",{className:"play-icon",src:"images/play-small-icon.svg"})))),r.a.createElement("div",{className:"data-inner-wrap"},r.a.createElement("div",{className:"data-item border-blue-d bg-blue-d ".concat("cs"===o?"active":""),onClick:function(){return e.setDataSelection("cs")}},r.a.createElement("img",{className:"data-img",src:"images/Picture12.png"}),r.a.createElement("span",{className:"data-label"},"Cs"),r.a.createElement("span",{className:"play-icon-wrap"},r.a.createElement("img",{className:"play-icon",src:"images/play-small-icon.svg"}))),r.a.createElement("div",{className:"data-item border-blue-l bg-blue-l ".concat("si"===o?"active":""),onClick:function(){return e.setDataSelection("si")}},r.a.createElement("img",{className:"data-img",src:"images/Picture13.png"}),r.a.createElement("span",{className:"data-label"},"Si"),r.a.createElement("span",{className:"play-icon-wrap"},r.a.createElement("img",{className:"play-icon",src:"images/play-small-icon.svg"})))),r.a.createElement("div",{className:"data-inner-wrap"},r.a.createElement("div",{className:"data-item border-yellow-l bg-yellow-l ".concat("zm"===o?"active":""),onClick:function(){return e.setDataSelection("zm")}},r.a.createElement("img",{className:"data-img",style:{width:"auto"},src:"images/Picture14.png"}),r.a.createElement("span",{className:"data-label"},"Zm"),r.a.createElement("span",{className:"play-icon-wrap"},r.a.createElement("img",{className:"play-icon",src:"images/play-small-icon.svg"}))),r.a.createElement("div",{className:"data-item border-yellow-d bg-yellow-d ".concat("hd"===o?"active":""),onClick:function(){return e.setDataSelection("hd")}},r.a.createElement("img",{className:"data-img",src:"images/Picture15.png"}),r.a.createElement("span",{className:"data-label"},"Hd"),r.a.createElement("span",{className:"play-icon-wrap"},r.a.createElement("img",{className:"play-icon",src:"images/play-small-icon.svg"})))),r.a.createElement("div",{className:"data-inner-wrap"},r.a.createElement("div",{style:{width:"650px",display:"flex"}},r.a.createElement("div",{style:{marginRight:"85px"},className:"data-item border-orange bg-orange ".concat("hu"===o?"active":""),onClick:function(){return e.setDataSelection("hu")}},r.a.createElement("img",{className:"data-img",src:"images/Picture16.png"}),r.a.createElement("span",{className:"data-label"},"Hu"),r.a.createElement("span",{className:"play-icon-wrap"},r.a.createElement("img",{className:"play-icon",src:"images/play-small-icon.svg"}))),r.a.createElement("div",{style:{height:"141.78px"},className:"data-item border-olive-light bg-olive-light ".concat(i?"active":""),onClick:function(){return e.setDataSelection("sediment")}},r.a.createElement("span",{className:"data-label",style:{fontSize:"36px"}},"Sediment"),r.a.createElement("span",{className:"play-icon-wrap"},r.a.createElement("img",{className:"play-icon",src:"images/play-small-icon.svg"})))),r.a.createElement("div",{className:"dr-pagination-wrapper"},r.a.createElement("ul",{className:"dr-pagination"},r.a.createElement("li",{className:"first-item dr-pagination-item"},r.a.createElement("a",null,"Starfish")),r.a.createElement("li",{className:"second-item dr-pagination-item"},r.a.createElement("a",{onClick:function(){return e.props.setStarFishCounter(1)}},"1")),r.a.createElement("li",{className:"third-item dr-pagination-item"},r.a.createElement("a",{onClick:function(){return e.props.setStarFishCounter(2)}},"2")),r.a.createElement("li",{className:"fourth-item dr-pagination-item"},r.a.createElement("a",{onClick:function(){return e.props.setStarFishCounter(5)}},"5")),r.a.createElement("li",{className:"fifth-item dr-pagination-item"},r.a.createElement("a",{onClick:function(){return e.props.setStarFishCounter(10)}},"10"))))))),n&&r.a.createElement("div",{className:"popup-layer"},r.a.createElement("div",{className:"percentage-bar-wrapper"},t.map((function(t,a){return r.a.createElement("span",{key:"percentage-bar-item c-".concat(a),className:"percentage-bar-item c-".concat(a),onClick:function(){return e.sendPercentageData(t)}},t)})))),i&&r.a.createElement("div",{className:"popup-layer"},r.a.createElement("div",{className:"sediment-pop-wrapper"},s.map((function(a,n){return r.a.createElement("div",{key:"sediment-pop-item c-".concat(n),className:"sediment-popup-menu"},r.a.createElement("span",{className:"sediment-pop-item ".concat(l===a.name?"active":""),onClick:function(){return e.setSedimentItem(a)}},a.name,r.a.createElement("img",{className:"play-icon",src:"images/play-small-icon.svg"})),r.a.createElement("span",{key:"sediment-pop-submenu c-".concat(n),className:"sediment-pop-submenu ".concat(l===a.name?"active":"")},r.a.createElement("div",{className:"sediment-horizantal-submenu"},t.map((function(t,a){return r.a.createElement("span",{key:"percentage-bar-item c-".concat(a),className:"percentage-bar-item c-".concat(a),onClick:function(){return e.sendPercentageData(t)}},t)})))))})))))}}]),t}(n.Component),Lt=Object(f.b)((function(e){return{trainingSet:e.trainingSet,mapState:e.mapState}}),{sendSeaGrassData:function(e){return function(t){fetch("".concat(je,"/annotation/videoFrame"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}}})(Vt),Ut=a(113),zt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.systemStatus,t=(e.showModal,e.controlMode),a=e.gliderStats,n=e.sessionControls,r=e.sonarControls;t&&a&&n&&r&&this.props.systemsCheckModal(!1)}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.systemStatus,n=(a.showModal,a.controlMode),r=a.gliderStats,o=a.sessionControls,i=a.sonarControls,s=e.systemStatus.controlMode&&e.systemStatus.gliderStats&&e.systemStatus.sessionControls&&e.systemStatus.sonarControls,l=n&&r&&o&&i;s!==l&&l&&setTimeout((function(){return t.props.systemsCheckModal(!1)}),600),s===l||l||this.props.systemsCheckModal(!0)}},{key:"render",value:function(){var e=this,t=this.props.systemStatus,a=t.showModal,n=t.controlMode,o=t.gliderStats,i=t.sessionControls,s=t.sonarControls,l=n&&o&&i&&s;return a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-overlay"}),r.a.createElement("div",{className:"modal-container systems-check"},r.a.createElement("div",{style:{textAlign:"end"}},r.a.createElement("span",{className:"dr-close-btn",onClick:function(){return e.props.systemsCheckModal(!1)}},r.a.createElement("img",{src:"images/close-icon.svg",className:"close-icon"}))),r.a.createElement("div",{className:"modal-header",style:{justifyContent:"start"}},r.a.createElement("h2",{style:{marginRight:"20px"}},"Systems Check"),r.a.createElement(Ut.SyncLoader,{loading:!0,color:"#4caf50"})),r.a.createElement("ul",{className:"systems-check-list"},r.a.createElement("li",{className:l?"check":"cross"},"NUC link established"),r.a.createElement("li",{className:"check"},"Vertigo3 powered up"),r.a.createElement("li",{className:"check"},"Storage capacity 68%")))):r.a.createElement(r.a.Fragment,null)}}]),t}(n.PureComponent),Bt=Object(f.b)((function(e){return{systemStatus:e.systemStatus}}),{systemsCheckModal:Ke})(zt),Ft=g.CONTROL_MODE_TYPES,Ht=lt()("".concat("http://52.147.7.148:5000","/control/mode")).connect(),Wt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).changeControlMode=function(e){a.props.controlModes.activeMode!==e&&("surFace"===e&&Ht.emit("json",{mode:"surface"}),"seaBed"===e&&Ht.emit("json",{mode:"seabed"}),"manual"===e&&Ht.emit("json",{mode:"manual"}))},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;Ht.on("json",(function(t){var a=t.mode,n="";"surface"===a&&(n="surFace"),"seabed"===a&&(n="seaBed"),"manual"===a&&(n="manual"),console.log(t),e.props.changeControlMode(n)})),Ht.on("connect",(function(){return e.props.systemStatusChange({controlMode:!0})})),Ht.on("disconnect",(function(){return e.props.systemStatusChange({controlMode:!1})})),Ht.connected||this.props.systemStatusChange({controlMode:!1})}},{key:"componentWillUnmount",value:function(){Ht.removeAllListeners()}},{key:"render",value:function(){var e=this,t=this.props.controlModes.activeMode;return r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("div",{className:"dr-btn btn-half btn-l ".concat("surFace"===t?"nav-btn-bg-1":"bg-olive-dark"),onClick:function(){return e.changeControlMode("surFace")}},"Surface"),r.a.createElement("div",{className:"dr-btn btn-half btn-r ".concat("seaBed"===t?"nav-btn-bg-1":"bg-olive-dark"),onClick:function(){return e.changeControlMode("seaBed")}},"Seabed"),r.a.createElement("div",{className:"dr-btn btn-full ".concat("manual"===t?"nav-btn-bg-1":"nav-btn-bg-2"),onClick:function(){return e.changeControlMode("manual")}},"manual",r.a.createElement("span",null,r.a.createElement("img",{src:"images/remote.png",className:"remote-icon"}))))}}]),t}(n.Component),Yt=Object(f.b)((function(e){return{controlModes:e.controlModes}}),{changeControlMode:function(e){return function(t){t({type:Ft.CHANGE_CONTROL_MODE,payload:e}),new Audio(Gt.a).play()}},systemStatusChange:Je})(Wt),Zt=(a(195),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={expandFrame:!1,expandSonar:!1,expandMap:!1,hidePopup:!1,percentBarMenu:!1,dataSelection:"",notification:{},starFishCounter:0,videoUrl:""},a.showNotification=function(e,t,n){a.closeNotification();var r={showBar:!0,msg:e,duration:t,mode:n};"PAUSE_SESSION"!==n&&"STOP_SESSION"!==n&&(r.timeoutId=setTimeout((function(){return a.closeNotification()}),t||2e3)),a.setState({notification:r})},a.closeNotification=function(){var e=a.state.notification;e.timeoutId&&clearTimeout(e.timeoutId),a.setState({notification:{}})},a.expandingFrames=function(e){var t=a.state,n=t.expandSonar,r=t.expandMap;"sonar"===e&&a.setState({expandSonar:!n,expandMap:!1}),"map"===e&&a.setState({expandMap:!r,expandSonar:!1}),new Audio(Gt.a).play()},a.setStarFishCounter=function(e){var t=a.state.starFishCounter;a.setState({starFishCounter:t+e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(we.a).then((function(e){return e.blob()})).then((function(t){return e.setState({videoUrl:window.URL.createObjectURL(t)})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.notification,n=t.expandMap,o=t.expandSonar,i=t.starFishCounter,s=t.flashValue,l=t.videoUrl,c=this.props.trainingSet.showTrainingSet,p=[r.a.createElement(Te,{key:"videoPlayer",showNotification:this.showNotification,playerWidth:1076,playerHeight:900,videoUrl:l}),r.a.createElement(Be,{mapHeight:450,expandMap:n}),r.a.createElement(ft,{expandSonar:o})];return n&&(p=[r.a.createElement(Be,{mapHeight:900,expandMap:n}),r.a.createElement(Te,{key:"videoPlayer",showNotification:this.showNotification,playerWidth:538,playerHeight:450,disableAnnotations:!0,videoUrl:l}),r.a.createElement(ft,{expandSonar:o})]),o&&(p=[r.a.createElement(ft,{expandSonar:o}),r.a.createElement(Be,{mapHeight:450,expandMap:n}),r.a.createElement(Te,{key:"videoPlayer",showNotification:this.showNotification,playerWidth:538,playerHeight:450,disableAnnotations:!0,videoUrl:l})]),r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"top-sec"},r.a.createElement("div",{className:"left-sidebar"},r.a.createElement(Yt,null),r.a.createElement("div",{className:"state-wrapper bg-olive-light"},r.a.createElement(At,null)),r.a.createElement("div",{className:"info-wrapper bg-olive-dark"},r.a.createElement(It,{starFishCounter:i,flashValue:s}))),r.a.createElement("div",{className:"main-video-wrapper"},r.a.createElement("div",{className:"main-wrapper"},p[0]),!n&&!o&&r.a.createElement("div",{className:"video-controller-wrapper"},r.a.createElement(Nt,{showNotification:this.showNotification}),r.a.createElement(ue.a,{trigger:r.a.createElement("span",{href:"#",className:"video-icon-wrapper setting-icon-wrapper"},r.a.createElement("img",{src:"images/setting-icon.svg",className:"video-icon setting-icon"})),position:"bottom center",closeOnDocumentClick:!1},(function(t){return r.a.createElement("div",{className:"settings-popup"},r.a.createElement("span",{className:"dr-close-btn",onClick:t},r.a.createElement("img",{src:"images/close-icon.svg",className:"close-icon"})),r.a.createElement("p",null,"Version: ",r.a.createElement("strong",null,"0.0.16")),r.a.createElement("button",{onClick:function(){e.props.systemsCheckModal(!0),t()},className:"link-btn",style:{margin:0,padding:0,textAlign:"left"}},"System Status"))})))),r.a.createElement("div",{className:"right-sidebar"},r.a.createElement("div",{className:"map-wrapper"},p[1],r.a.createElement("div",{className:"map-controller-wrapper"},r.a.createElement(jt,{classNames:"map-icon sizing-icon",active:n,handler:function(){return e.expandingFrames("map")},frame:"map"}))),r.a.createElement("div",{className:"sonar-wrapper"},p[2],r.a.createElement("div",{className:"sonar-controller-wrapper"},r.a.createElement(jt,{classNames:"sonar-icon sizing-icon",active:o,handler:function(){return e.expandingFrames("sonar")},frame:"sonar"}))))),r.a.createElement(Lt,{setStarFishCounter:this.setStarFishCounter}),c&&r.a.createElement(Tt,null),r.a.createElement(vt,Object.assign({},a,{closeNotification:this.closeNotification})),r.a.createElement(Bt,null))}}]),t}(r.a.Component)),Kt=Object(f.b)((function(e){return{trainingSet:e.trainingSet}}),{systemsCheckModal:Ke})(Zt),Jt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",render:function(){return r.a.createElement(d.a,{to:"/dashboard"})}}),r.a.createElement(d.b,{path:"/dashboard",render:function(){return r.a.createElement(Kt,e.props)}}))}}]),t}(n.Component),Xt=Object(d.g)(Jt),qt=a(115),Qt=a.n(qt),$t=(a(200),a(201),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).enableNoSleep=function(e){try{setTimeout((function(){(new Qt.a).enable(),document.removeEventListener("touchstart",a.enableNoSleep,!1)}),500)}catch(t){console.log(t)}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){document.addEventListener("touchstart",this.enableNoSleep,!1)}},{key:"render",value:function(){return r.a.createElement(f.a,{store:me},r.a.createElement(u.a,null,r.a.createElement(d.d,null,r.a.createElement(Xt,{path:"/"}))))}}]),t}(n.Component)),ea=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ta(e,t){navigator.serviceWorker.register(e,{scope:"/vertigo3-app/"}).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement($t,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/vertigo3-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/vertigo3-app","/service-worker.js");ea?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ta(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ta(t,e)}))}}()},27:function(e,t,a){e.exports=a.p+"static/media/Key-click.23694401.ogg"},50:function(e,t,a){e.exports=a.p+"static/media/sample-vid-2.59ecf91b.mp4"},98:function(e,t,a){e.exports=a.p+"static/media/halophila-ovalis.6c3d2513.png"},99:function(e,t,a){e.exports=a.p+"static/media/cymodocea-serrulata.18173c07.png"}},[[116,1,2]]]);
//# sourceMappingURL=main.fa30c4df.chunk.js.map